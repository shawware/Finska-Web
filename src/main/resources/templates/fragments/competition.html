<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Current Competition</title>
</head>
<body>

<div th:fragment="competitions">
  <table th:if="${competitions.size() > 0}" class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th th:text="#{sw.finska.competition}"></th>
        <th th:text="#{sw.finska.heading.startDate}"></th>
        <th th:text="#{sw.finska.heading.numberOfRounds}"></th>
        <th th:text="#{sw.finska.heading.numberOfPlayers}"></th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="competition : ${competitions}">
        <td>
          <a th:href="@{/display/competition/{id}(id=${competition.id})}"
             th:title="#{sw.finska.link.competition.title(${competition.key})}"
             th:text="${competition.key}"></a>
        </td>
        <td th:text="${competition.startDate}"></td>
        <td th:text="${competition.numberOfRounds()}"></td>
        <td th:text="${competition.getEntrantIds().size()}"></td>
      </tr>
    </tbody>
  </table>
</div>

<div th:fragment="competition">
  <table th:if="${competition.numberOfRounds() > 0}" class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th th:text="#{sw.finska.round}"></th>
        <th th:text="#{sw.finska.heading.date}"></th>
        <th th:text="#{sw.finska.heading.numberOfMatches}"></th>
        <th th:text="#{sw.finska.heading.players}"></th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="round : ${rounds}">
        <td th:text="${round.key}"></td>
        <td th:text="${round.roundDate}"></td>
        <td th:text="${round.numberOfMatches()}"></td>
        <td>
          <th:block th:each="player, status : ${round.players}">
            <a th:href="@{/display/player/{id}(id=${player.id})}"
               th:title="${player.key}"
               th:text="${player.key}"></a><th:block th:if="!${status.last}">,</th:block>
          </th:block>
        </td>
      </tr>
    </tbody>
  </table>
</div>

</body>
</html>
